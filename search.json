[{"path":"https://epicentre-msf.github.io/datadict/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Patrick Barks. Author, maintainer.","code":""},{"path":"https://epicentre-msf.github.io/datadict/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Barks P (2024). datadict: Data Dictionary Tools OCA Data Sharing Platform. R package version 0.0.0.9000, https://github.com/epicentre-msf/datadict.","code":"@Manual{,   title = {datadict: Data Dictionary Tools For OCA Data Sharing Platform},   author = {Patrick Barks},   year = {2024},   note = {R package version 0.0.0.9000},   url = {https://github.com/epicentre-msf/datadict}, }"},{"path":[]},{"path":"https://epicentre-msf.github.io/datadict/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Data Dictionary Tools For OCA Data Sharing Platform","text":"Install GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"epicentre-msf/datadict\")"},{"path":[]},{"path":"https://epicentre-msf.github.io/datadict/index.html","id":"generate-data-dictionary-from-odk-template","dir":"","previous_headings":"Example usage","what":"Generate data dictionary from ODK template","title":"Data Dictionary Tools For OCA Data Sharing Platform","text":"dict_from_odk() function can used generate OCA-style data dictionary ODK template (‘survey’ ‘options’ sheets ODK template required inputs).","code":"library(datadict) library(readxl)  # path to example ODK template (a WHO mortality survey) path_data <- system.file(\"extdata\", package = \"datadict\") path_odk_template <- file.path(path_data, \"WHOVA2016_v1_5_3_ODK.xlsx\")  # read 'survey' sheet and 'choices' sheet odk_survey <- readxl::read_xlsx(path_odk_template, sheet = \"survey\") odk_choices <- readxl::read_xlsx(path_odk_template, sheet = \"choices\")  # derive OCA-style data dictionary dict <- dict_from_odk(odk_survey, odk_choices)  # examine first few rows/cols dict[1:5,1:4] #> # A tibble: 5 × 4 #>   variable_name short_label                                  type       choices                                          #>   <chr>         <chr>                                        <chr>      <chr>                                            #> 1 Id10002       Is this a region of high HIV/AIDS mortality? Coded list high, High | low, Low | veryl, Very low          #> 2 Id10003       Is this a region of high malaria mortality?  Coded list high, High | low, Low | veryl, Very low          #> 3 Id10004       During which season did (s)he die?           Coded list wet, Wet | dry, Dry | DK, Doesn't know           #> 4 Id10007       What is the name of VA respondent?           Free text  <NA>                                             #> 5 Id10007a      What is the sex of VA respondent?            Coded list female, Female | male, Male | undetermined, Amb…"},{"path":"https://epicentre-msf.github.io/datadict/index.html","id":"generate-data-dictionary-from-redcap-template","dir":"","previous_headings":"Example usage","what":"Generate data dictionary from REDCap template","title":"Data Dictionary Tools For OCA Data Sharing Platform","text":"dict_from_redcap() function can used generate OCA-style data dictionary REDCap data dictionary. input dictionary can exported directly REDCap project website fetched via API using e.g. R package redcap.","code":"# path to example REDCap template path_data <- system.file(\"extdata\", package = \"datadict\") path_redcap_dict <- file.path(path_data, \"REDCapDataDictionaryDemo.csv\")  # read dictionary redcap_dict <- read.csv(path_redcap_dict)  # derive OCA-style data dictionary dict <- dict_from_redcap(redcap_dict)  # examine first few rows/cols dict[1:5,1:5] #> # A tibble: 5 × 5 #>   variable_name short_label                 type      choices origin   #>   <chr>         <chr>                       <chr>     <chr>   <chr>    #> 1 study_id      Study ID                    Free text <NA>    original #> 2 date_enrolled Date subject signed consent Date      <NA>    original #> 3 first_name    First Name                  Free text <NA>    original #> 4 last_name     Last Name                   Free text <NA>    original #> 5 address       Street, City, State, ZIP    Free text <NA>    original"},{"path":"https://epicentre-msf.github.io/datadict/index.html","id":"generate-data-dictionary-template-from-a-dataset","dir":"","previous_headings":"Example usage","what":"Generate data dictionary template from a dataset","title":"Data Dictionary Tools For OCA Data Sharing Platform","text":"dict_from_data() function can used generate template OCA-style data dictionary (may require processing) dataset. Data types based class column within input dataset, e.g.:","code":"# path to example dataset path_data <- system.file(\"extdata\", package = \"datadict\") path_linelist <- file.path(path_data, \"linelist_cleaned.xlsx\")  # read data dat <- readxl::read_xlsx(path_linelist)  # derive OCA-style data dictionary template dict <- dict_from_data(dat)  # examine first few rows/cols dict[1:7,1:5] #> # A tibble: 7 × 5 #>   variable_name        short_label type      choices origin   #>   <chr>                <chr>       <chr>     <chr>   <chr>    #> 1 case_id              <NA>        Free text <NA>    original #> 2 generation           <NA>        Numeric   <NA>    original #> 3 cohort_fu            <NA>        Logical   <NA>    original #> 4 date_infection       <NA>        Datetime  <NA>    original #> 5 date_onset           <NA>        Datetime  <NA>    original #> 6 date_hospitalisation <NA>        Datetime  <NA>    original #> 7 date_outcome         <NA>        Datetime  <NA>    original"},{"path":"https://epicentre-msf.github.io/datadict/reference/coded_options.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert an OCA style data dictionary into a long-form data.frame containing values and labels of ","title":"Convert an OCA style data dictionary into a long-form data.frame containing values and labels of ","text":"Convert OCA style data dictionary long-form data.frame containing values labels \"Coded list\" type variables","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/coded_options.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert an OCA style data dictionary into a long-form data.frame containing values and labels of ","text":"","code":"coded_options(dict)"},{"path":"https://epicentre-msf.github.io/datadict/reference/coded_options.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert an OCA style data dictionary into a long-form data.frame containing values and labels of ","text":"dict data frame reflecting data dictionary validate","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/coded_options.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert an OCA style data dictionary into a long-form data.frame containing values and labels of ","text":"data.frame","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a data dictionary template from a dataset — dict_from_data","title":"Generate a data dictionary template from a dataset — dict_from_data","text":"Generate data dictionary template dataset","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a data dictionary template from a dataset — dict_from_data","text":"","code":"dict_from_data(x, factor_threshold = 10, factor_values = c(\"int\", \"string\"))"},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a data dictionary template from a dataset — dict_from_data","text":"x data frame reflecting dataset generate data dictionary template factor_threshold integer representing maximum number unique values within dataset column column classified factor-type (.e. coded list) variable. Columns recognized data types (Numeric, Date, etc.) factor_threshold unique values specified type \"Free text\". Defaults 10. factor_values values factor-type (.e. Coded list) variables generated integers (\"int\") strings (\"string\"). Defaults \"int\".","code":"label    | int | string -------------------------  Yes      | 0   | yes  No       | 1   | no  Not sure | 2   | not_sure"},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a data dictionary template from a dataset — dict_from_data","text":"tibble-style data frame representing data dictionary template formatted OCA data sharing standard","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a data dictionary template from a dataset — dict_from_data","text":"","code":"# read example dataset path_data <- system.file(\"extdata\", package = \"datadict\") dat <- readxl::read_xlsx(file.path(path_data, \"linelist_cleaned.xlsx\"))  # generate data dictionary template from dataset dict_from_data(dat, factor_values = \"string\") #> # A tibble: 31 × 7 #>    variable_name     short_label type  choices origin status indirect_identifier #>    <chr>             <chr>       <chr> <chr>   <chr>  <chr>  <chr>               #>  1 case_id           NA          Free… NA      origi… shared NA                  #>  2 generation        NA          Nume… NA      origi… shared NA                  #>  3 cohort_fu         NA          Logi… NA      origi… shared NA                  #>  4 date_infection    NA          Date… NA      origi… shared NA                  #>  5 date_onset        NA          Date… NA      origi… shared NA                  #>  6 date_hospitalisa… NA          Date… NA      origi… shared NA                  #>  7 date_outcome      NA          Date… NA      origi… shared NA                  #>  8 outcome           NA          Code… death,… origi… shared NA                  #>  9 gender            NA          Code… f, f |… origi… shared NA                  #> 10 age               NA          Nume… NA      origi… shared NA                  #> # ℹ 21 more rows"},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_odk.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert an ODK template to the OCA data sharing dictionary standard — dict_from_odk","title":"Convert an ODK template to the OCA data sharing dictionary standard — dict_from_odk","text":"Convert ODK template OCA data sharing dictionary standard","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_odk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert an ODK template to the OCA data sharing dictionary standard — dict_from_odk","text":"","code":"dict_from_odk(survey, choices, col_labels = NULL)"},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_odk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert an ODK template to the OCA data sharing dictionary standard — dict_from_odk","text":"survey data.frame reflecting 'survey' sheet within ODK template choices data.frame reflecting 'choices' sheet within ODK template col_labels (Optional) Name column found sheets 'survey' 'choices' giving variable labels, e.g. \"label::English\". Defaults NULL case first column starting prefix \"label\" used label column.","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_odk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert an ODK template to the OCA data sharing dictionary standard — dict_from_odk","text":"tibble-style data frame representing data dictionary formatted OCA data sharing standard","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_odk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert an ODK template to the OCA data sharing dictionary standard — dict_from_odk","text":"","code":"path_data <- system.file(\"extdata\", package = \"datadict\") path_odk_template <- file.path(path_data, \"WHOVA2016_v1_5_3_ODK.xlsx\")  odk_survey <- readxl::read_xlsx(path_odk_template, sheet = \"survey\") odk_choices <- readxl::read_xlsx(path_odk_template, sheet = \"choices\")  dict_from_odk(odk_survey, odk_choices) #> # A tibble: 593 × 17 #>    variable_name short_label     type  choices origin status indirect_identifier #>    <chr>         <chr>           <chr> <chr>   <chr>  <chr>  <chr>               #>  1 Id10002       Is this a regi… Code… high, … origi… shared NA                  #>  2 Id10003       Is this a regi… Code… high, … origi… shared NA                  #>  3 Id10004       During which s… Code… wet, W… origi… shared NA                  #>  4 Id10007       What is the na… Free… NA      origi… shared NA                  #>  5 Id10007a      What is the se… Code… female… origi… shared NA                  #>  6 Id10008       What is your/t… Code… parent… origi… shared NA                  #>  7 Id10009       Did you/the re… Code… yes, Y… origi… shared NA                  #>  8 Id10010       Name of VA int… Free… NA      origi… shared NA                  #>  9 Id10010a      Age of VA inte… Nume… NA      origi… shared NA                  #> 10 Id10010b      Sex of VA inte… Code… female… origi… shared NA                  #> # ℹ 583 more rows #> # ℹ 10 more variables: hint_english <chr>, relevant <chr>, required <chr>, #> #   notes <lgl>, appearance <chr>, calculation <chr>, default <lgl>, #> #   constraint <chr>, constraint_message_english <chr>, read_only <lgl>"},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_redcap.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a REDCap data dictionary to the OCA data sharing standard — dict_from_redcap","title":"Convert a REDCap data dictionary to the OCA data sharing standard — dict_from_redcap","text":"Convert REDCap data dictionary OCA data sharing standard","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_redcap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a REDCap data dictionary to the OCA data sharing standard — dict_from_redcap","text":"","code":"dict_from_redcap(x)"},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_redcap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a REDCap data dictionary to the OCA data sharing standard — dict_from_redcap","text":"x data.frame reflecting REDCap data dictionary","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_redcap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a REDCap data dictionary to the OCA data sharing standard — dict_from_redcap","text":"tibble-style data frame representing data dictionary formatted OCA data sharing standard","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/dict_from_redcap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a REDCap data dictionary to the OCA data sharing standard — dict_from_redcap","text":"","code":"# path to example REDCap data dictionary path_data <- system.file(\"extdata\", package = \"datadict\") path_redcap_dict <- file.path(path_data, \"REDCapDataDictionaryDemo.csv\")  # read dictionary redcap_dict <- read.csv(path_redcap_dict)  # convert to OCA format dict_from_redcap(redcap_dict) #> # A tibble: 122 × 19 #>    variable_name short_label           type  choices origin status form_or_group #>    <chr>         <chr>                 <chr> <chr>   <chr>  <chr>  <chr>         #>  1 study_id      Study ID              Free… NA      origi… shared demographics  #>  2 date_enrolled Date subject signed … Date  NA      origi… shared demographics  #>  3 first_name    First Name            Free… NA      origi… shared demographics  #>  4 last_name     Last Name             Free… NA      origi… shared demographics  #>  5 address       Street, City, State,… Free… NA      origi… shared demographics  #>  6 telephone_1   Phone number          Free… NA      origi… shared demographics  #>  7 telephone_2   Second phone number   Free… NA      origi… shared demographics  #>  8 email         E-mail                Free… NA      origi… shared demographics  #>  9 sex           Gender                Code… 0, Fem… origi… shared demographics  #> 10 given_birth   Has the subject give… Code… 0, No … origi… shared demographics  #> # ℹ 112 more rows #> # ℹ 12 more variables: indirect_identifier <chr>, section_header <chr>, #> #   calculation <chr>, field_note <chr>, validation_min <dbl>, #> #   validation_max <dbl>, identifier <chr>, branching_logic <chr>, #> #   required_field <chr>, custom_alignment <lgl>, #> #   question_number_surveys_only <lgl>, matrix_group_name <chr>"},{"path":"https://epicentre-msf.github.io/datadict/reference/generate_coded_options.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a compact specification of the options for a variable of type 'Coded list' — generate_coded_options","title":"Generate a compact specification of the options for a variable of type 'Coded list' — generate_coded_options","text":"compact form single string value label corresponding given option separated comma, options separated vertical bar, e.g. \"value1, Label 1 | value2, Label 2 | value3, Label 3\"","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/generate_coded_options.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a compact specification of the options for a variable of type 'Coded list' — generate_coded_options","text":"","code":"generate_coded_options(x, type_of_values = c(\"int\", \"string\", \"names\"))"},{"path":"https://epicentre-msf.github.io/datadict/reference/generate_coded_options.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a compact specification of the options for a variable of type 'Coded list' — generate_coded_options","text":"x vector labels type_of_values Type values generate corresponding possible label. Either integers (\"int\"), strings (\"string\"), take values element names x (\"names\").","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/generate_coded_options.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a compact specification of the options for a variable of type 'Coded list' — generate_coded_options","text":"string giving possible values corresponding labels given variable, compact format","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/generate_coded_options.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a compact specification of the options for a variable of type 'Coded list' — generate_coded_options","text":"","code":"x <- c(\"Value #1\", \"Value #2\", \"Value #3\") names(x) = c(\"val1\", \"val2\", \"val3\")  # use specified names as values generate_coded_options(x, type_of_values = \"names\") #> [1] \"val1, Value #1 | val2, Value #2 | val3, Value #3\"  # generate integer values generate_coded_options(x, type_of_values = \"int\") #> [1] \"1, Value #1 | 2, Value #2 | 3, Value #3\"  # generate string values generate_coded_options(x, type_of_values = \"string\") #> [1] \"value_1, Value #1 | value_2, Value #2 | value_3, Value #3\""},{"path":"https://epicentre-msf.github.io/datadict/reference/k_anonymity.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the k-anonymity of one or more variables in a dataset — k_anonymity","title":"Check the k-anonymity of one or more variables in a dataset — k_anonymity","text":"Given dataset set one variables interest (e.g. variables potential indirect identifiers), function returns minimum observed value k dataset, corresponding unique combination identifying variables fewest observations.","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/k_anonymity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the k-anonymity of one or more variables in a dataset — k_anonymity","text":"","code":"k_anonymity(x, vars)"},{"path":"https://epicentre-msf.github.io/datadict/reference/k_anonymity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the k-anonymity of one or more variables in a dataset — k_anonymity","text":"x data frame vars character vector containing name(s) variable(s) x included k-anonymity calculation","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/k_anonymity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the k-anonymity of one or more variables in a dataset — k_anonymity","text":"minimum observed value k dataset, corresponding unique combination identifying variables fewest observations","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/k_anonymity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check the k-anonymity of one or more variables in a dataset — k_anonymity","text":"","code":"# read example dataset path_data <- system.file(\"extdata\", package = \"datadict\") dat <- readxl::read_xlsx(file.path(path_data, \"linelist_cleaned.xlsx\"))  # find minimum observed k for potential indirect identifiers gender and age_cat k_anonymity(dat, vars = c(\"gender\", \"age_cat\")) #> [1] 1"},{"path":"https://epicentre-msf.github.io/datadict/reference/k_anonymity_counts.html","id":null,"dir":"Reference","previous_headings":"","what":"Count the number of observations across unique combinations of indirect identifiers within a dataset — k_anonymity_counts","title":"Count the number of observations across unique combinations of indirect identifiers within a dataset — k_anonymity_counts","text":"Given dataset set one variables may indirect identifiers, function returns table counts number observations corresponding unique combination variables (.e. k), optionally filtered combinations meet user-specific threshhold k-anonymity.","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/k_anonymity_counts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Count the number of observations across unique combinations of indirect identifiers within a dataset — k_anonymity_counts","text":"","code":"k_anonymity_counts(x, vars, threshold = NULL)"},{"path":"https://epicentre-msf.github.io/datadict/reference/k_anonymity_counts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Count the number of observations across unique combinations of indirect identifiers within a dataset — k_anonymity_counts","text":"x data frame vars character vector containing name(s) variable(s) x included k-anonymity calculation threshold Integer threshold indicating minimum acceptable value k. Combinations values k threshold flagged returned. return 0 rows indicates combinations values k threshold.","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/k_anonymity_counts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Count the number of observations across unique combinations of indirect identifiers within a dataset — k_anonymity_counts","text":"tibble-style data frame containing counts unique combinations variables specified argument vars. argument threshold specified, combinations counts lower threshold returned, (.e. combinations meet specified value k-anonymity).","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/k_anonymity_counts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Count the number of observations across unique combinations of indirect identifiers within a dataset — k_anonymity_counts","text":"","code":"# read example dataset path_data <- system.file(\"extdata\", package = \"datadict\") dat <- readxl::read_xlsx(file.path(path_data, \"linelist_cleaned.xlsx\"))  # display combinations of gender and age_cat with k < 5 k_anonymity_counts(dat, vars = c(\"gender\", \"age_cat\"), threshold = 5) #> # A tibble: 3 × 3 #>   gender age_cat     k #>   <chr>  <chr>   <int> #> 1 NA     70+         1 #> 2 f      50-69       2 #> 3 NA     50-69       2"},{"path":"https://epicentre-msf.github.io/datadict/reference/reclass_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Reclass the columns of a dataset to match the variable types specified in the corresponding data dictionary — reclass_data","title":"Reclass the columns of a dataset to match the variable types specified in the corresponding data dictionary — reclass_data","text":"Reclass columns dataset match variable types specified corresponding data dictionary","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/reclass_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reclass the columns of a dataset to match the variable types specified in the corresponding data dictionary — reclass_data","text":"","code":"reclass_data(   data,   dict,   format_date = \"%Y-%m-%d\",   format_time = \"%H:%M:%S\",   format_datetime = NULL )"},{"path":"https://epicentre-msf.github.io/datadict/reference/reclass_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reclass the columns of a dataset to match the variable types specified in the corresponding data dictionary — reclass_data","text":"data data frame reflecting dataset shared dict data frame reflecting corresponding data dictionary format_date Expected format date variables. Defaults \"%Y-%m-%d\". format_time Expected format date variables. Defaults \"%H:%M:%S\". format_datetime Expected format date variables. Defaults NULL use defaults lubridate::as_datetime.","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/reclass_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reclass the columns of a dataset to match the variable types specified in the corresponding data dictionary — reclass_data","text":"dataset columns reclassed match data dictionary","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/valid_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that a dataset is consistent with its corresponding data dictionary — valid_data","title":"Check that a dataset is consistent with its corresponding data dictionary — valid_data","text":"Includes following checks: variables marked 'withheld' dictionary contain missing values variables dataset defined dictionary variables defined dictionary present dataset variables type 'Numeric' valid numbers variables type 'Date' valid dates variables type 'Time' valid times variables type 'Datetimes' valid date-times variables type 'Coded list' contain allowed options","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/valid_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that a dataset is consistent with its corresponding data dictionary — valid_data","text":"","code":"valid_data(   data,   dict,   format_date = \"%Y-%m-%d\",   format_time = \"%H:%M:%S\",   format_datetime = NULL,   format_coded = \"label\",   verbose = TRUE )"},{"path":"https://epicentre-msf.github.io/datadict/reference/valid_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that a dataset is consistent with its corresponding data dictionary — valid_data","text":"data data frame reflecting dataset shared dict data frame reflecting corresponding data dictionary format_date Expected format date variables. Defaults \"%Y-%m-%d\". format_time Expected format date variables. Defaults \"%H:%M:%S\". format_datetime Expected format date variables. Defaults NULL use defaults lubridate::as_datetime. format_coded Expected format coded-list variables, either \"value\" \"label\". Defaults \"label. verbose Logical indicating whether give warning describing checks failed. Defaults TRUE.","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/valid_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check that a dataset is consistent with its corresponding data dictionary — valid_data","text":"TRUE checks pass, FALSE checks fail","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/valid_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check that a dataset is consistent with its corresponding data dictionary — valid_data","text":"","code":"# read example dataset path_data <- system.file(\"extdata\", package = \"datadict\") dat <- readxl::read_xlsx(file.path(path_data, \"linelist_cleaned.xlsx\"))  # generate data dictionary template from dataset dict <- dict_from_data(dat, factor_values = \"string\")  # dictionary column 'indirect_identifier' must be manually specified (yes/no) dict$indirect_identifier <- \"no\"  # check for validity valid_data(dat, dict) #> [1] TRUE"},{"path":"https://epicentre-msf.github.io/datadict/reference/valid_dict.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that a data dictionary complies with the OCA data sharing standard — valid_dict","title":"Check that a data dictionary complies with the OCA data sharing standard — valid_dict","text":"Includes following checks: contains required columns (variable_name, short_label, type, choices, origin, status) required columns complete (missing values) duplicated values column variable_name non-valid values columns type, origin, status, indirect_identifier coded-list type variables: missing choices incorrectly formatted choices (expected format \"value1, Label 1 | value2, Label 2 | ...\")","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/valid_dict.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that a data dictionary complies with the OCA data sharing standard — valid_dict","text":"","code":"valid_dict(dict, verbose = TRUE)"},{"path":"https://epicentre-msf.github.io/datadict/reference/valid_dict.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that a data dictionary complies with the OCA data sharing standard — valid_dict","text":"dict data frame reflecting data dictionary validate verbose Logical indicating whether give warning describing checks failed. Defaults TRUE.","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/valid_dict.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check that a data dictionary complies with the OCA data sharing standard — valid_dict","text":"TRUE checks pass, FALSE checks fail","code":""},{"path":"https://epicentre-msf.github.io/datadict/reference/valid_dict.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check that a data dictionary complies with the OCA data sharing standard — valid_dict","text":"","code":"# read example dataset path_data <- system.file(\"extdata\", package = \"datadict\") dat <- readxl::read_xlsx(file.path(path_data, \"linelist_cleaned.xlsx\"))  # generate data dictionary template from dataset dict <- dict_from_data(dat, factor_values = \"string\")  # dictionary column 'indirect_identifier' must be manually specified (yes/no) dict$indirect_identifier <- \"no\"  # check for validity valid_dict(dict) #> [1] TRUE"}]
